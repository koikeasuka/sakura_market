%h2 カート
- if @cart.cart_items.empty?
  %p カートに商品がありません
  = link_to 'TOPページへ', items_path, class: 'btn btn-secondary'
- else
  - @cart.cart_items.each do |cart_item|
    .row.mb-3.align-items-center.cart-item
      .col-md-2
        = image_tag product_photo_image(cart_item.item), class: 'img-fluid'
      .col-md-1
      .col-md-5
        %h5.card-title= cart_item.item.name
      .col-md-2.text-end
        %p.mb-0= number_to_currency(cart_item.item.price)
      .col-md-2.text-end
        = button_to '削除', users_cart_item_path(cart_item), method: :delete, data: { turbo_confirm: '削除してもよろしいですか' }, class: 'btn btn-light'
    %hr.my-2
  .card
    .card-body
      .row.align-items-center.mb-2
        .col-md-9
          %h5.mb-0 小計
        .col-md-3.text-end
          %h5.mb-0= number_to_currency(@cart.sub_total)
      .row.align-items-center.mb-2
        .col-md-9
          %h5.mb-0 送料
        .col-md-3.text-end
          %h5.mb-0= number_to_currency(@cart.shipping_fee)
      .row.align-items-center.mb-2
        .col-md-9
          %h5.mb-0 代引き手数料
        .col-md-3.text-end
          %h5.mb-0= number_to_currency(@cart.cash_on_delivery_fee)
      .row.align-items-center.mb-2
        .col-md-9
          %h5.mb-0 消費税
        .col-md-3.text-end
          %h5.mb-0= number_to_currency(@cart.tax)

      %hr.my-3
      .row.align-items-center
        .col-md-9
          %h4.mb-0 合計
        .col-md-3.text-end
          %h4.mb-0= number_to_currency(@cart.total_price)
  .d-flex.justify-content-end
    .p-2= link_to '買い物を続ける', items_path, class: 'btn btn-outline-secondary btn-lg'
    .p-2= button_to '購入する', '#', method: :post, class: 'btn btn-secondary btn-lg'
